import{s as M,r as j,u as B,h as k,d as _,j as a,i as R,v,w as b,p as Z,q as $,f as O,l as L,a as F,g as T,m as A,c as G,x as ne,n as Q,o as le,D as re,E as ae,F as oe,G as ie}from"./scheduler.ab84cf82.js";import{S as N,i as V,b as K,d as Y,m as U,g as ce,t as P,e as J,c as ue,a as W}from"./index.83bb740a.js";function fe(l){let e,t;return{c(){e=j("svg"),t=j("path"),this.h()},l(n){e=B(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=B(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(_),s.forEach(_),this.h()},h(){a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round"),a(t,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class",l[0])},m(n,s){R(n,e,s),v(e,t),l[4](t),l[5](e)},p(n,[s]){s&1&&a(e,"class",n[0])},i:b,o:b,d(n){n&&_(e),l[4](null),l[5](null)}}}function he(l,e,t){let{class:n}=e,s,r;const h=()=>({svg:r,path:s});function m(f){Z[f?"unshift":"push"](()=>{s=f,t(1,s)})}function d(f){Z[f?"unshift":"push"](()=>{r=f,t(2,r)})}return l.$$set=f=>{"class"in f&&t(0,n=f.class)},[n,s,r,h,m,d]}class ee extends N{constructor(e){super(),V(this,e,he,fe,M,{class:0,element:3})}get element(){return this.$$.ctx[3]}}function me(l){let e,t;return{c(){e=j("svg"),t=j("path"),this.h()},l(n){e=B(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=B(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(_),s.forEach(_),this.h()},h(){a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round"),a(t,"d","M14.25 9v6m-4.5 0V9"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class",l[0])},m(n,s){R(n,e,s),v(e,t)},p(n,[s]){s&1&&a(e,"class",n[0])},i:b,o:b,d(n){n&&_(e)}}}function de(l,e,t){let{class:n}=e;return l.$$set=s=>{"class"in s&&t(0,n=s.class)},[n]}class _e extends N{constructor(e){super(),V(this,e,de,me,M,{class:0})}}function ge(l){let e,t;return{c(){e=j("svg"),t=j("path"),this.h()},l(n){e=B(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=k(e);t=B(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(t).forEach(_),s.forEach(_),this.h()},h(){a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round"),a(t,"d","M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class",l[0])},m(n,s){R(n,e,s),v(e,t)},p(n,[s]){s&1&&a(e,"class",n[0])},i:b,o:b,d(n){n&&_(e)}}}function pe(l,e,t){let{class:n}=e;return l.$$set=s=>{"class"in s&&t(0,n=s.class)},[n]}class ve extends N{constructor(e){super(),V(this,e,pe,ge,M,{class:0})}}function ke(l){let e,t,n,s,r,h,m,d,f,p,E,o,x,D,I,y,C,q;d=new ee({props:{class:"icon static"}});let z={class:"icon dynamic"};p=new ee({props:z}),l[14](p);var c=l[3];function H(u){return{props:{class:"icon play-state"}}}return c&&(o=$(c,H())),{c(){e=O("div"),t=O("h2"),n=L(l[1]),s=L(":"),r=L(l[2]),h=F(),m=O("button"),K(d.$$.fragment),f=F(),K(p.$$.fragment),E=F(),o&&K(o.$$.fragment),x=F(),D=O("div"),I=L(l[4]),this.h()},l(u){e=T(u,"DIV",{});var g=k(e);t=T(g,"H2",{class:!0});var S=k(t);n=A(S,l[1]),s=A(S,":"),r=A(S,l[2]),S.forEach(_),h=G(g),m=T(g,"BUTTON",{class:!0});var w=k(m);Y(d.$$.fragment,w),f=G(w),Y(p.$$.fragment,w),E=G(w),o&&Y(o.$$.fragment,w),w.forEach(_),x=G(g),D=T(g,"DIV",{});var i=k(D);I=A(i,l[4]),i.forEach(_),g.forEach(_),this.h()},h(){a(t,"class","svelte-1omwgyx"),a(m,"class","svelte-1omwgyx")},m(u,g){R(u,e,g),v(e,t),v(t,n),v(t,s),v(t,r),v(e,h),v(e,m),U(d,m,null),v(m,f),U(p,m,null),v(m,E),o&&U(o,m,null),v(e,x),v(e,D),v(D,I),y=!0,C||(q=ne(m,"click",l[15]),C=!0)},p(u,[g]){(!y||g&2)&&Q(n,u[1]),(!y||g&4)&&Q(r,u[2]);const S={};if(p.$set(S),g&8&&c!==(c=u[3])){if(o){ce();const w=o;P(w.$$.fragment,1,0,()=>{J(w,1)}),ue()}c?(o=$(c,H()),K(o.$$.fragment),W(o.$$.fragment,1),U(o,m,null)):o=null}(!y||g&16)&&Q(I,u[4])},i(u){y||(W(d.$$.fragment,u),W(p.$$.fragment,u),o&&W(o.$$.fragment,u),y=!0)},o(u){P(d.$$.fragment,u),P(p.$$.fragment,u),o&&P(o.$$.fragment,u),y=!1},d(u){u&&_(e),J(d),l[14](null),J(p),o&&J(o),C=!1,q()}}}const we=1e3;function ye(l,e,t){let{iterations:n}=e,{inhale:s}=e,{hold1:r=0}=e,{exhale:h}=e,{hold2:m=0}=e,d,f,p="paused",E=0,o,x,D,I,y,C="00",q="00",z,c=null,H=!1;le(()=>{const i=o.element().path.getTotalLength(),te=new KeyframeEffect(o.element().svg,[{strokeDasharray:i,strokeDashoffset:i},{strokeDashoffset:0,offset:y},{strokeDashoffset:0,offset:D},{strokeDasharray:i,strokeDashoffset:i,offset:x},{strokeDasharray:i,strokeDashoffset:i,offset:I}],{duration:f*we,iterations:n});d=new Animation(te);const se=setInterval(()=>{const X=d.effect?d.effect.getComputedTiming():{};d.playState==="finished"?t(13,E=+(X.endTime??0)/1e3):t(13,E=Math.ceil((+(X.endTime??0)-+(X.localTime??0))/1e3))},100);return d.onfinish=()=>{t(12,p="paused"),c==null||c.release(),c=null},()=>{clearInterval(se),c==null||c.release(),c=null}});const u=async()=>{if(!("wakeLock"in navigator)){t(4,H=!0);return}c=await navigator.wakeLock.request("screen"),c.addEventListener("release",()=>console.log("released"))},g=()=>{d.playState==="running"?(d.pause(),t(12,p="paused"),c==null||c.release(),c=null):(d.play(),t(12,p="running"),u())};function S(i){Z[i?"unshift":"push"](()=>{o=i,t(0,o)})}const w=()=>g();return l.$$set=i=>{"iterations"in i&&t(6,n=i.iterations),"inhale"in i&&t(7,s=i.inhale),"hold1"in i&&t(8,r=i.hold1),"exhale"in i&&t(9,h=i.exhale),"hold2"in i&&t(10,m=i.hold2)},l.$$.update=()=>{l.$$.dirty&16256&&(t(11,f=s+r+h+m),x=(s+r+h)/f,D=(s+r)/f,I=(s+r+h+m)/f,y=s/f,t(1,C=Math.floor(+E/60).toString().padStart(2,"0")),t(2,q=(+E%60).toString().padStart(2,"0")),t(3,z=p==="running"?_e:ve))},[o,C,q,z,H,g,n,s,r,h,m,f,p,E,S,w]}class Ce extends N{constructor(e){super(),V(this,e,ye,ke,M,{iterations:6,inhale:7,hold1:8,exhale:9,hold2:10})}}function Ee(l){let e,t;return{c(){e=O("h1"),t=L(l[0]),this.h()},l(n){e=T(n,"H1",{class:!0});var s=k(e);t=A(s,l[0]),s.forEach(_),this.h()},h(){a(e,"class","svelte-1hf1cy")},m(n,s){R(n,e,s),v(e,t)},p(n,[s]){s&1&&Q(t,n[0])},i:b,o:b,d(n){n&&_(e)}}}function De(l,e,t){let{copy:n}=e;return l.$$set=s=>{"copy"in s&&t(0,n=s.copy)},[n]}class Oe extends N{constructor(e){super(),V(this,e,De,Ee,M,{copy:0})}}function Se(l){let e,t;const n=l[1].default,s=re(n,l,l[0],null);return{c(){e=O("div"),s&&s.c(),this.h()},l(r){e=T(r,"DIV",{class:!0});var h=k(e);s&&s.l(h),h.forEach(_),this.h()},h(){a(e,"class","svelte-1u49w5r")},m(r,h){R(r,e,h),s&&s.m(e,null),t=!0},p(r,[h]){s&&s.p&&(!t||h&1)&&ae(s,n,r,r[0],t?ie(n,r[0],h,null):oe(r[0]),null)},i(r){t||(W(s,r),t=!0)},o(r){P(s,r),t=!1},d(r){r&&_(e),s&&s.d(r)}}}function be(l,e,t){let{$$slots:n={},$$scope:s}=e;return l.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,n]}class Te extends N{constructor(e){super(),V(this,e,be,Se,M,{})}}export{Te as R,Oe as a,Ce as b};
